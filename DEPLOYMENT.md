# üöÄ –î–µ–ø–ª–æ–π HSK Telegram Mini App

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Telegram Mini App.

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é

### 1. –î–µ–ø–ª–æ–π –±—ç–∫–µ–Ω–¥–∞

#### –í–∞—Ä–∏–∞–Ω—Ç A: Railway (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Railway.app](https://railway.app)
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `backend` –¥–ª—è –¥–µ–ø–ª–æ—è
4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```
   API_KEY=881f8e616c8deb37a9eb7c485c3dcee306dae17656bed5b4b8783549300fcaac
   TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
   PORT=3000
   NODE_ENV=production
   FRONTEND_URL=https://–≤–∞—à-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–¥–æ–º–µ–Ω.vercel.app
   ```

#### –í–∞—Ä–∏–∞–Ω—Ç B: Heroku
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Heroku CLI
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `heroku create your-app-name`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `heroku config:set API_KEY=...`
4. –î–µ–ø–ª–æ–π: `git push heroku main`

### 2. –î–µ–ø–ª–æ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

#### –í–∞—Ä–∏–∞–Ω—Ç A: Vercel (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Vercel.com](https://vercel.com)
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `frontend` –∫–∞–∫ Root Directory
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Build Settings:
   - Build Command: `npm run build`
   - Output Directory: `dist`

#### –í–∞—Ä–∏–∞–Ω—Ç B: Netlify
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Netlify.com](https://netlify.com)
2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –ø–∞–ø–∫—É `frontend` –≤ Netlify
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

1. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –±—ç–∫–µ–Ω–¥–∞ –æ–±–Ω–æ–≤–∏—Ç–µ `frontend/config.js`:
   ```javascript
   production: {
     API_BASE_URL: 'https://your-backend-url.railway.app', // –í–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL
     API_KEY: '881f8e616c8deb37a9eb7c485c3dcee306dae17656bed5b4b8783549300fcaac'
   }
   ```

2. –û–±–Ω–æ–≤–∏—Ç–µ CORS –≤ `backend/server.js`:
   ```javascript
   origin: [
     'https://your-frontend-url.vercel.app', // –í–∞—à —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ URL
     'https://web.telegram.org',
     // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ origins
   ]
   ```

## ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Mini App

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Mini App —á–µ—Ä–µ–∑ BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newapp`
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
4. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: `HSK Subscription Checker`
5. –í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ: `–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ –∫–∞–Ω–∞–ª—ã HSK`
6. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∫–æ–Ω–∫—É (512x512 px)
7. –í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞: `https://your-frontend-url.vercel.app`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App URL

1. –í BotFather –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/myapps`
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ù–∞–∂–º–∏—Ç–µ "Edit Web App URL"
4. –í–≤–µ–¥–∏—Ç–µ URL: `https://your-frontend-url.vercel.app`

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Menu Button (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –í BotFather –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/mybots`
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –ù–∞–∂–º–∏—Ç–µ "Bot Settings" ‚Üí "Menu Button"
4. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏: "–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
5. –í–≤–µ–¥–∏—Ç–µ URL: `https://your-frontend-url.vercel.app`

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
```bash
# –ë—ç–∫–µ–Ω–¥
cd backend
npm start

# –§—Ä–æ–Ω—Ç–µ–Ω–¥ (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd frontend
npm start
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Menu" –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤ Telegram

## üõ†Ô∏è Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å CORS
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω –≤ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—ç–∫–µ–Ω–¥–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS –¥–ª—è production

### –ü—Ä–æ–±–ª–µ–º—ã —Å API –∫–ª—é—á–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –∫–ª—é—á —Å–æ–≤–ø–∞–¥–∞–µ—Ç –≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –∏ –±—ç–∫–µ–Ω–¥–µ

### –ü—Ä–æ–±–ª–µ–º—ã —Å Telegram Web App
- URL –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Telegram Web App API –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üì± –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –º–µ–Ω—é –±–æ—Ç–∞
–í –∫–æ–¥–µ –±–æ—Ç–∞ –¥–æ–±–∞–≤—å—Ç–µ:
```javascript
bot.setMyCommands([
  { command: 'start', description: '–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ' },
  { command: 'app', description: '–û—Ç–∫—Ä—ã—Ç—å HSK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ' }
]);
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook (–¥–ª—è production)
```javascript
// –í production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ webhook –≤–º–µ—Å—Ç–æ polling
if (process.env.NODE_ENV === 'production') {
  bot.setWebHook(`${process.env.WEBHOOK_URL}/webhook`);
}
```

## üéØ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –∫–∞–∫ Telegram Mini App! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:
- –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é –±–æ—Ç–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã
- –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É –ø–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∫–∏