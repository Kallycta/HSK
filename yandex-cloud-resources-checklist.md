# üìã –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ Yandex Cloud

## üéØ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, –≤ –≤–∞—à–µ–π [–∫–æ–Ω—Å–æ–ª–∏ Yandex Cloud](https://console.cloud.yandex.ru/) –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã:

## üìÅ 1. –ö–∞—Ç–∞–ª–æ–≥ (Folder)

**–ì–¥–µ –Ω–∞–π—Ç–∏:** –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω—Å–æ–ª–∏ ‚Üí –í—ã–±–æ—Ä –∫–∞—Ç–∞–ª–æ–≥–∞

‚úÖ **–ù–∞–∑–≤–∞–Ω–∏–µ:** `hsk-telegram-bot`  
‚úÖ **–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω—ã–π  
‚úÖ **–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞—Ç–∞–ª–æ–≥ –¥–ª—è HSK Telegram Bot –ø—Ä–æ–µ–∫—Ç–∞  

## üë§ 2. –°–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç

**–ì–¥–µ –Ω–∞–π—Ç–∏:** IAM ‚Üí –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

‚úÖ **–ù–∞–∑–≤–∞–Ω–∏–µ:** `hsk-bot-service-account`  
‚úÖ **–†–æ–ª–∏:**
- `serverless.functions.invoker`
- `serverless.functions.admin` 
- `api-gateway.websockets.writer`
- `logging.writer`

‚úÖ **JSON –∫–ª—é—á:** –°–∫–∞—á–∞–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω (—Ñ–∞–π–ª `key.json`)

## üîë 3. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Object Storage)

**–ì–¥–µ –Ω–∞–π—Ç–∏:** IAM ‚Üí –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã ‚Üí –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç ‚Üí –ö–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞

‚úÖ **Access Key ID:** –°–æ–∑–¥–∞–Ω  
‚úÖ **Secret Access Key:** –°–æ–∑–¥–∞–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω  

## üí≥ 4. –ë–∏–ª–ª–∏–Ω–≥–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç

**–ì–¥–µ –Ω–∞–π—Ç–∏:** –ë–∏–ª–ª–∏–Ω–≥ ‚Üí –ê–∫–∫–∞—É–Ω—Ç—ã

‚úÖ **–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω—ã–π  
‚úÖ **–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:** –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞ –ø—Ä–∏–≤—è–∑–∞–Ω–∞  
‚úÖ **–ë–∞–ª–∞–Ω—Å:** –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –∏–ª–∏ –µ—Å—Ç—å –≥—Ä–∞–Ω—Ç  

## üÜî 5. –í–∞–∂–Ω—ã–µ ID –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

### Folder ID (ID –∫–∞—Ç–∞–ª–æ–≥–∞)
**–ì–¥–µ –Ω–∞–π—Ç–∏:** –ì–ª–∞–≤–Ω–∞—è ‚Üí –ö–∞—Ç–∞–ª–æ–≥ ‚Üí –û–±–∑–æ—Ä ‚Üí ID –∫–∞—Ç–∞–ª–æ–≥–∞
```
–ü—Ä–∏–º–µ—Ä: b1g12345678901234567
```

### Service Account ID
**–ì–¥–µ –Ω–∞–π—Ç–∏:** IAM ‚Üí –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã ‚Üí –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç ‚Üí ID
```
–ü—Ä–∏–º–µ—Ä: aje12345678901234567
```

### Cloud ID (ID –æ–±–ª–∞–∫–∞)
**–ì–¥–µ –Ω–∞–π—Ç–∏:** –ì–ª–∞–≤–Ω–∞—è ‚Üí –û–±–ª–∞–∫–æ ‚Üí ID
```
–ü—Ä–∏–º–µ—Ä: b1g98765432109876543
```

## üöÄ –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø–æ—è–≤—è—Ç—Å—è:

### üì¶ Cloud Functions
**–ì–¥–µ –Ω–∞–π—Ç–∏:** Serverless ‚Üí Functions

‚úÖ **hsk-api-function**
- –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: Node.js 18
- –ü–∞–º—è—Ç—å: 256 –ú–ë
- –¢–∞–π–º–∞—É—Ç: 30 —Å–µ–∫
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

‚úÖ **hsk-telegram-webhook**
- –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: Node.js 18  
- –ü–∞–º—è—Ç—å: 128 –ú–ë
- –¢–∞–π–º–∞—É—Ç: 15 —Å–µ–∫
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### üåê API Gateway
**–ì–¥–µ –Ω–∞–π—Ç–∏:** Serverless ‚Üí API Gateway

‚úÖ **hsk-api-gateway**
- –î–æ–º–µ–Ω: `https://xxxxxxxx.apigw.yandexcloud.net`
- –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: –ó–∞–≥—Ä—É–∂–µ–Ω–∞ –∏–∑ `api-gateway-spec.yaml`
- –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–Ω—ã–π

### üìä –õ–æ–≥–∏
**–ì–¥–µ –Ω–∞–π—Ç–∏:** Logging ‚Üí –ì—Ä—É–ø–ø—ã –ª–æ–≥–æ–≤

‚úÖ **default**
- –õ–æ–≥–∏ —Ñ—É–Ω–∫—Ü–∏–π
- –õ–æ–≥–∏ API Gateway
- –ü–µ—Ä–∏–æ–¥ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 3 –¥–Ω—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π
```bash
# –í –∫–æ–Ω—Å–æ–ª–∏ Serverless ‚Üí Functions
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å 2 —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–ê–∫—Ç–∏–≤–Ω–∞"
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ API Gateway
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ URL API Gateway –≤ –±—Ä–∞—É–∑–µ—Ä–µ
https://–≤–∞—à-–¥–æ–º–µ–Ω.apigw.yandexcloud.net/health
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: {"status": "OK", "timestamp": "..."}
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram webhook
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook –±–æ—Ç–∞
curl https://api.telegram.org/bot<–í–ê–®_–¢–û–ö–ï–ù>/getWebhookInfo
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å URL –≤–∞—à–µ–≥–æ API Gateway
```

## ‚ùå –ß—Ç–æ –ù–ï –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–ª—è—Ç—å—Å—è

- ‚ùå –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã (Compute Cloud)
- ‚ùå Kubernetes –∫–ª–∞—Å—Ç–µ—Ä—ã
- ‚ùå –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)
- ‚ùå Load Balancer (–Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è serverless)
- ‚ùå Container Registry (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

## üÜò –ï—Å–ª–∏ —á–µ–≥–æ-—Ç–æ –Ω–µ—Ç

### –ù–µ—Ç –∫–∞—Ç–∞–ª–æ–≥–∞
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–∞—Ç–∞–ª–æ–≥ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –í—ã–±–µ—Ä–∏—Ç–µ –µ–≥–æ –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω—ã–π

### –ù–µ—Ç —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
1. IAM ‚Üí –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã ‚Üí –°–æ–∑–¥–∞—Ç—å
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–æ–ª–∏
3. –°–æ–∑–¥–∞–π—Ç–µ JSON –∫–ª—é—á

### –ù–µ—Ç –±–∏–ª–ª–∏–Ω–≥–æ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
1. –ë–∏–ª–ª–∏–Ω–≥ ‚Üí –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
2. –ü—Ä–∏–≤—è–∂–∏—Ç–µ –±–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É
3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç

### –§—É–Ω–∫—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞–ª–∏—Å—å
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub Actions –ª–æ–≥–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
3. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–µ–ø–ª–æ–π

## üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Yandex Cloud

–î–ª—è —É–¥–æ–±–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
- [iOS App Store](https://apps.apple.com/ru/app/yandex-cloud/id1483700156)
- [Google Play](https://play.google.com/store/apps/details?id=ru.yandex.cloud)

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–ö–æ–Ω—Å–æ–ª—å Yandex Cloud](https://console.cloud.yandex.ru/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Functions](https://cloud.yandex.ru/docs/functions/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API Gateway](https://cloud.yandex.ru/docs/api-gateway/)
- [–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏](https://cloud.yandex.ru/prices)

---

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: $(Get-Date -Format 'yyyy-MM-dd HH:mm')*
*–ü—Ä–æ–µ–∫—Ç: HSK Telegram Bot ‚Üí Yandex Cloud Functions*